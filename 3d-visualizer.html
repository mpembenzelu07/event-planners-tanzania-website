<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Event Visualizer | See Your Event Before It Happens | Event Planners Tanzania</title>
    <style>
        /* === 3D VISUALIZER STYLES === */
        :root {
            --gold: #D4AF37;
            --gold-glow: rgba(212, 175, 55, 0.3);
            --deep-red: #C41E3A;
            --rich-red: #9a162d;
            --midnight: #0A0A0F;
            --charcoal: #1A1A1F;
            --ivory: #FFFDF5;
            --light-gold: #F5E8C8;
            --tech-blue: #00D4FF;
            --tech-purple: #8A2BE2;
            --transition-slow: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            --transition-medium: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            --shadow-tech: 0 0 40px rgba(0, 212, 255, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #0c1a2b 100%);
            color: var(--ivory);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* === HEADER === */
        .magical-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10000;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            transition: var(--transition-slow);
        }
        
        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100px;
        }
        
        .logo-magic {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-orb {
            width: 50px;
            height: 50px;
            background: radial-gradient(circle at 30% 30%, var(--gold), var(--deep-red));
            border-radius: 50%;
            position: relative;
            animation: orbPulse 4s ease-in-out infinite;
        }
        
        @keyframes orbPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .logo-text {
            font-family: 'Georgia', serif;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--gold), var(--ivory));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .magic-nav {
            display: flex;
            gap: 30px;
        }
        
        .magic-nav a {
            color: var(--light-gold);
            text-decoration: none;
            font-weight: 600;
            font-size: 15px;
            padding: 10px 0;
            position: relative;
            transition: var(--transition-medium);
        }
        
        .magic-nav a:hover {
            color: var(--gold);
        }
        
        .magic-nav a.active {
            color: var(--tech-blue);
        }
        
        /* === 3D VISUALIZER HERO === */
        .visualizer-hero {
            padding: 180px 40px 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .visualizer-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
            z-index: -1;
        }
        
        .visualizer-hero h1 {
            font-size: 4rem;
            background: linear-gradient(45deg, var(--tech-blue), var(--tech-purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.3);
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--light-gold);
            max-width: 800px;
            margin: 0 auto 40px;
        }
        
        .ar-badge {
            display: inline-block;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--tech-blue);
            color: var(--tech-blue);
            padding: 10px 20px;
            border-radius: 50px;
            margin-top: 20px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* === 3D CONTAINER === */
        .visualizer-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px 120px;
        }
        
        .visualizer-wrapper {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 40px;
        }
        
        /* === CONTROLS PANEL === */
        .controls-panel {
            background: rgba(26, 26, 31, 0.8);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        
        .panel-section {
            margin-bottom: 30px;
        }
        
        .panel-section h3 {
            color: var(--tech-blue);
            font-size: 1.2rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .panel-section h3 i {
            font-size: 1.5rem;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-label {
            display: block;
            color: var(--light-gold);
            margin-bottom: 10px;
            font-size: 0.95rem;
        }
        
        .control-select {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            color: var(--ivory);
            font-size: 14px;
        }
        
        .color-picker {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition-medium);
        }
        
        .color-option.selected {
            border-color: var(--tech-blue);
            transform: scale(1.1);
        }
        
        .slider-with-value {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .slider-with-value input[type="range"] {
            flex: 1;
            height: 6px;
            background: rgba(0, 212, 255, 0.2);
            border-radius: 3px;
            outline: none;
        }
        
        .slider-value {
            min-width: 40px;
            text-align: center;
            color: var(--tech-blue);
            font-weight: bold;
        }
        
        /* === 3D CANVAS === */
        .canvas-container {
            background: rgba(10, 10, 15, 0.7);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        #threeCanvas {
            width: 100%;
            height: 600px;
            display: block;
        }
        
        .canvas-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
        }
        
        .view-controls {
            display: flex;
            gap: 10px;
            pointer-events: all;
        }
        
        .view-btn {
            background: rgba(26, 26, 31, 0.9);
            border: 1px solid var(--tech-blue);
            color: var(--tech-blue);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition-medium);
        }
        
        .view-btn:hover {
            background: var(--tech-blue);
            color: var(--midnight);
        }
        
        .scene-info {
            background: rgba(26, 26, 31, 0.9);
            padding: 10px 20px;
            border-radius: 8px;
            border: 1px solid var(--tech-blue);
            color: var(--tech-blue);
            font-size: 14px;
        }
        
        /* === PRESET SCENES === */
        .presets-section {
            margin-top: 40px;
        }
        
        .preset-scenes {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .preset-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid transparent;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition-medium);
        }
        
        .preset-card:hover {
            border-color: var(--tech-blue);
            transform: translateY(-5px);
        }
        
        .preset-icon {
            font-size: 2rem;
            color: var(--tech-blue);
            margin-bottom: 15px;
        }
        
        /* === MOBILE CONTROLS === */
        .mobile-controls {
            display: none;
            position: fixed;
            bottom: 20px;
            left: 0;
            right: 0;
            justify-content: center;
            gap: 10px;
            z-index: 1000;
        }
        
        .mobile-btn {
            background: rgba(26, 26, 31, 0.95);
            border: 1px solid var(--tech-blue);
            color: var(--tech-blue);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* === RESPONSIVE === */
        @media (max-width: 1200px) {
            .visualizer-wrapper {
                grid-template-columns: 1fr;
            }
            
            .controls-panel {
                order: 2;
            }
            
            .canvas-container {
                order: 1;
            }
        }
        
        @media (max-width: 768px) {
            .visualizer-hero h1 {
                font-size: 2.5rem;
            }
            
            .header-container {
                padding: 0 20px;
                height: 80px;
            }
            
            .magic-nav {
                display: none;
            }
            
            .visualizer-container {
                padding: 0 20px 100px;
            }
            
            .canvas-overlay {
                flex-direction: column;
                gap: 10px;
            }
            
            .mobile-controls {
                display: flex;
            }
        }
        
        /* === FOOTER === */
        .footer-magic {
            background: rgba(10, 10, 15, 0.95);
            border-top: 1px solid rgba(212, 175, 55, 0.1);
            padding: 80px 40px 30px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 50px;
            max-width: 1400px;
            margin: 0 auto 50px;
        }
        
        .footer-logo-section .logo-text {
            font-size: 24px;
            margin-bottom: 20px;
        }
        
        .footer-description {
            color: rgba(255, 253, 245, 0.7);
        }
        
        .footer-links h3 {
            color: var(--gold);
            font-size: 18px;
            margin-bottom: 25px;
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: rgba(255, 253, 245, 0.7);
            text-decoration: none;
            transition: var(--transition-medium);
        }
        
        .footer-links a:hover {
            color: var(--gold);
            padding-left: 5px;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(212, 175, 55, 0.1);
            color: rgba(255, 253, 245, 0.5);
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="magical-header">
        <div class="header-container">
            <div class="logo-magic">
                <div class="logo-orb"></div>
                <div class="logo-text">Event Planners Tanzania</div>
            </div>
            
            <nav class="magic-nav">
                <a href="index.html">Home</a>
                <a href="services.html">Services</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="pricing.html">Pricing</a>
                <a href="booking.html">Booking</a>
                <a href="ai-planner.html">AI Planner</a>
                <a href="3d-visualizer.html" class="active">3D Visualizer</a>
                <a href="vendor-marketplace.html">Vendors</a>
            </nav>
        </div>
    </header>

    <!-- 3D Visualizer Hero -->
    <section class="visualizer-hero">
        <h1>3D Event Visualizer</h1>
        <div class="hero-subtitle">
            See your event come to life before it happens. Walk through venue layouts, 
            experiment with decor, and perfect every detail in immersive 3D.
        </div>
        <div class="ar-badge">
            <i class="fas fa-mobile-alt" style="margin-right: 8px;"></i>
            Mobile AR Compatible
        </div>
    </section>

    <!-- 3D Visualizer Container -->
    <section class="visualizer-container">
        <div class="visualizer-wrapper">
            <!-- Controls Panel -->
            <div class="controls-panel">
                <div class="panel-section">
                    <h3><i class="fas fa-warehouse"></i> Venue Type</h3>
                    <div class="control-group">
                        <label class="control-label">Select Venue</label>
                        <select class="control-select" onchange="changeVenue(this.value)">
                            <option value="ballroom">Grand Ballroom</option>
                            <option value="garden">Garden Venue</option>
                            <option value="beach">Beach Setup</option>
                            <option value="conference">Conference Hall</option>
                            <option value="tent">Tented Event</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Venue Size</label>
                        <div class="slider-with-value">
                            <input type="range" min="500" max="5000" value="2000" 
                                   oninput="updateSize(this.value)">
                            <span class="slider-value" id="sizeValue">2000 sqft</span>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3><i class="fas fa-chair"></i> Seating Arrangement</h3>
                    <div class="control-group">
                        <label class="control-label">Layout Type</label>
                        <select class="control-select" onchange="changeLayout(this.value)">
                            <option value="theater">Theater Style</option>
                            <option value="classroom">Classroom Style</option>
                            <option value="banquet">Banquet Round Tables</option>
                            <option value="cocktail">Cocktail Standing</option>
                            <option value="u-shape">U-Shape</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Guest Count</label>
                        <div class="slider-with-value">
                            <input type="range" min="50" max="1000" value="200" 
                                   oninput="updateGuests(this.value)">
                            <span class="slider-value" id="guestValue">200 guests</span>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3><i class="fas fa-palette"></i> Color Theme</h3>
                    <div class="control-group">
                        <label class="control-label">Primary Color</label>
                        <div class="color-picker">
                            <div class="color-option selected" style="background: #D4AF37;" 
                                 onclick="selectColor('#D4AF37', this)"></div>
                            <div class="color-option" style="background: #C41E3A;" 
                                 onclick="selectColor('#C41E3A', this)"></div>
                            <div class="color-option" style="background: #2E8B57;" 
                                 onclick="selectColor('#2E8B57', this)"></div>
                            <div class="color-option" style="background: #4169E1;" 
                                 onclick="selectColor('#4169E1', this)"></div>
                            <div class="color-option" style="background: #8A2BE2;" 
                                 onclick="selectColor('#8A2BE2', this)"></div>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Lighting Intensity</label>
                        <div class="slider-with-value">
                            <input type="range" min="0" max="100" value="70" 
                                   oninput="updateLighting(this.value)">
                            <span class="slider-value" id="lightValue">70%</span>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3><i class="fas fa-couch"></i> Furniture & Decor</h3>
                    <div class="control-group">
                        <label class="control-label">Stage Size</label>
                        <div class="slider-with-value">
                            <input type="range" min="0" max="100" value="40" 
                                   oninput="updateStage(this.value)">
                            <span class="slider-value" id="stageValue">Medium</span>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Floral Decor</label>
                        <select class="control-select" onchange="updateFloral(this.value)">
                            <option value="minimal">Minimal</option>
                            <option value="moderate" selected>Moderate</option>
                            <option value="extensive">Extensive</option>
                            <option value="luxury">Luxury</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-top: 40px; text-align: center;">
                    <button onclick="saveDesign()" style="
                        background: linear-gradient(135deg, var(--tech-blue), var(--tech-purple));
                        color: var(--ivory);
                        border: none;
                        padding: 15px 40px;
                        border-radius: 50px;
                        font-weight: 600;
                        font-size: 16px;
                        cursor: pointer;
                        transition: var(--transition-medium);
                        width: 100%;
                    ">
                        <i class="fas fa-save" style="margin-right: 10px;"></i>
                        Save This Design
                    </button>
                </div>
            </div>
            
            <!-- 3D Canvas -->
            <div class="canvas-container">
                <canvas id="threeCanvas"></canvas>
                <div class="canvas-overlay">
                    <div class="view-controls">
                        <button class="view-btn" onclick="changeView('top')">
                            <i class="fas fa-satellite-dish"></i>
                        </button>
                        <button class="view-btn" onclick="changeView('front')">
                            <i class="fas fa-street-view"></i>
                        </button>
                        <button class="view-btn" onclick="changeView('walk')">
                            <i class="fas fa-walking"></i>
                        </button>
                        <button class="view-btn" onclick="toggleAR()">
                            <i class="fas fa-vr-cardboard"></i>
                        </button>
                    </div>
                    <div class="scene-info">
                        <i class="fas fa-eye" style="margin-right: 8px;"></i>
                        <span id="sceneInfo">Ballroom View | 200 Guests</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Preset Scenes -->
        <div class="presets-section">
            <h3 style="color: var(--tech-blue); font-size: 1.8rem; margin-bottom: 30px;">
                <i class="fas fa-magic" style="margin-right: 10px;"></i>
                Quick Setup Presets
            </h3>
            
            <div class="preset-scenes">
                <div class="preset-card" onclick="loadPreset('wedding')">
                    <div class="preset-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h4 style="color: var(--ivory); margin-bottom: 10px;">Wedding Reception</h4>
                    <p style="color: rgba(255, 253, 245, 0.7); font-size: 0.9rem;">
                        Round tables, dance floor, romantic lighting
                    </p>
                </div>
                
                <div class="preset-card" onclick="loadPreset('corporate')">
                    <div class="preset-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h4 style="color: var(--ivory); margin-bottom: 10px;">Corporate Gala</h4>
                    <p style="color: rgba(255, 253, 245, 0.7); font-size: 0.9rem;">
                        Theater seating, presentation stage, professional lighting
                    </p>
                </div>
                
                <div class="preset-card" onclick="loadPreset('birthday')">
                    <div class="preset-icon">
                        <i class="fas fa-birthday-cake"></i>
                    </div>
                    <h4 style="color: var(--ivory); margin-bottom: 10px;">Birthday Party</h4>
                    <p style="color: rgba(255, 253, 245, 0.7); font-size: 0.9rem;">
                        Lounge seating, bar area, party lighting
                    </p>
                </div>
                
                <div class="preset-card" onclick="loadPreset('conference')">
                    <div class="preset-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h4 style="color: var(--ivory); margin-bottom: 10px;">Conference</h4>
                    <p style="color: rgba(255, 253, 245, 0.7); font-size: 0.9rem;">
                        Classroom style, speaker podium, projection screen
                    </p>
                </div>
                
                <div class="preset-card" onclick="loadPreset('garden')">
                    <div class="preset-icon">
                        <i class="fas fa-tree"></i>
                    </div>
                    <h4 style="color: var(--ivory); margin-bottom: 10px;">Garden Event</h4>
                    <p style="color: rgba(255, 253, 245, 0.7); font-size: 0.9rem;">
                        Outdoor setup, tented area, natural lighting
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Mobile Controls -->
    <div class="mobile-controls">
        <div class="mobile-btn" onclick="rotateLeft()">
            <i class="fas fa-rotate-left"></i>
        </div>
        <div class="mobile-btn" onclick="zoomIn()">
            <i class="fas fa-search-plus"></i>
        </div>
        <div class="mobile-btn" onclick="zoomOut()">
            <i class="fas fa-search-minus"></i>
        </div>
        <div class="mobile-btn" onclick="rotateRight()">
            <i class="fas fa-rotate-right"></i>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-magic">
        <div class="footer-content">
            <div class="footer-logo-section">
                <div class="logo-text">Event Planners Tanzania</div>
                <p class="footer-description">
                    Creating unforgettable events across Tanzania since 2011. 
                    We specialize in weddings, corporate events, and private celebrations.
                </p>
            </div>
            
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="portfolio.html">Portfolio</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                    <li><a href="index.html#methodology">The 10 R's Methodology</a></li>
                </ul>
            </div>
            
            <div class="footer-links">
                <h3>Tech Features</h3>
                <ul>
                    <li><a href="3d-visualizer.html">3D Event Visualizer</a></li>
                    <li><a href="ai-planner.html">AI Package Recommender</a></li>
                    <li><a href="vendor-marketplace.html">Vendor Marketplace</a></li>
                    <li><a href="dashboard.html">Client Dashboard</a></li>
                </ul>
            </div>
            
            <div class="footer-links">
                <h3>Contact</h3>
                <ul>
                    <li><a href="tel:+255789456123">+255 789 456 123</a></li>
                    <li><a href="mailto:info@eventplannerstanzania.co.tz">info@eventplannerstanzania.co.tz</a></li>
                    <li><a href="booking.html">Contact Form</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2023 Event Planners Tanzania. All Rights Reserved. | Website: eventplannerstanzania.co.tz</p>
        </div>
    </footer>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        // Basic Three.js scene setup
        let scene, camera, renderer;
        let objects = [];
        
        function init3DScene() {
            // Create scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0a0f);
            
            // Create camera
            camera = new THREE.PerspectiveCamera(75, 
                document.getElementById('threeCanvas').clientWidth / 
                document.getElementById('threeCanvas').clientHeight, 
                0.1, 1000
            );
            camera.position.set(0, 10, 20);
            
            // Create renderer
            renderer = new THREE.WebGLRenderer({ 
                canvas: document.getElementById('threeCanvas'),
                antialias: true 
            });
            renderer.setSize(
                document.getElementById('threeCanvas').clientWidth,
                document.getElementById('threeCanvas').clientHeight
            );
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            // Add lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // Add floor
            const floorGeometry = new THREE.PlaneGeometry(50, 50);
            const floorMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x333333,
                roughness: 0.8
            });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            scene.add(floor);
            
            // Add walls
            createWalls();
            
            // Add sample objects
            createSampleTables();
            createStage();
            createChairs();
            
            // Start animation
            animate();
            
            // Handle window resize
            window.addEventListener('resize', onWindowResize);
        }
        
        function createWalls() {
            const wallMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x1a1a1f,
                roughness: 0.7
            });
            
            // Back wall
            const backWall = new THREE.Mesh(
                new THREE.BoxGeometry(50, 15, 0.5),
                wallMaterial
            );
            backWall.position.set(0, 7.5, -25);
            backWall.castShadow = true;
            backWall.receiveShadow = true;
            scene.add(backWall);
            objects.push(backWall);
            
            // Side walls
            const leftWall = new THREE.Mesh(
                new THREE.BoxGeometry(0.5, 15, 50),
                wallMaterial
            );
            leftWall.position.set(-25, 7.5, 0);
            scene.add(leftWall);
            objects.push(leftWall);
            
            const rightWall = new THREE.Mesh(
                new THREE.BoxGeometry(0.5, 15, 50),
                wallMaterial
            );
            rightWall.position.set(25, 7.5, 0);
            scene.add(rightWall);
            objects.push(rightWall);
        }
        
        function createSampleTables() {
            const tableMaterial = new THREE.MeshStandardMaterial({ 
                color: 0xD4AF37,
                roughness: 0.5,
                metalness: 0.2
            });
            
            // Create round tables
            for (let i = 0; i < 10; i++) {
                const tableGeometry = new THREE.CylinderGeometry(2, 2, 0.5, 32);
                const table = new THREE.Mesh(tableGeometry, tableMaterial);
                table.position.set(
                    (i % 5) * 10 - 20,
                    0.25,
                    Math.floor(i / 5) * 10 - 10
                );
                table.castShadow = true;
                table.receiveShadow = true;
                scene.add(table);
                objects.push(table);
            }
        }
        
        function createStage() {
            const stageMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x8B4513,
                roughness: 0.6
            });
            
            const stage = new THREE.Mesh(
                new THREE.BoxGeometry(15, 1, 8),
                stageMaterial
            );
            stage.position.set(0, 0.5, -15);
            stage.castShadow = true;
            stage.receiveShadow = true;
            scene.add(stage);
            objects.push(stage);
        }
        
        function createChairs() {
            const chairMaterial = new THREE.MeshStandardMaterial({ 
                color: 0xC41E3A,
                roughness: 0.5
            });
            
            // Create chairs around tables
            for (let i = 0; i < 80; i++) {
                const chairGeometry = new THREE.BoxGeometry(0.8, 1.5, 0.8);
                const chair = new THREE.Mesh(chairGeometry, chairMaterial);
                
                // Position chairs around tables
                const tableIndex = Math.floor(i / 8);
                const angle = (i % 8) * (Math.PI / 4);
                const radius = 2.5;
                
                chair.position.set(
                    (tableIndex % 5) * 10 - 20 + Math.cos(angle) * radius,
                    0.75,
                    Math.floor(tableIndex / 5) * 10 - 10 + Math.sin(angle) * radius
                );
                chair.castShadow = true;
                scene.add(chair);
                objects.push(chair);
            }
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            // Rotate scene slowly
            scene.rotation.y += 0.002;
            
            renderer.render(scene, camera);
        }
        
        function onWindowResize() {
            camera.aspect = document.getElementById('threeCanvas').clientWidth / 
                           document.getElementById('threeCanvas').clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(
                document.getElementById('threeCanvas').clientWidth,
                document.getElementById('threeCanvas').clientHeight
            );
        }
        
        // Control Functions
        function updateSize(value) {
            document.getElementById('sizeValue').textContent = value + ' sqft';
            // In a real implementation, this would resize the venue
        }
        
        function updateGuests(value) {
            document.getElementById('guestValue').textContent = value + ' guests';
            // In a real implementation, this would update chair count
        }
        
        function updateLighting(value) {
            document.getElementById('lightValue').textContent = value + '%';
            // In a real implementation, this would adjust lighting
        }
        
        function updateStage(value) {
            let size = 'Small';
            if (value > 33 && value <= 66) size = 'Medium';
            if (value > 66) size = 'Large';
            document.getElementById('stageValue').textContent = size;
        }
        
        function selectColor(color, element) {
            document.querySelectorAll('.color-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            // In a real implementation, this would change colors
        }
        
        function changeVenue(type) {
            let info = '';
            switch(type) {
                case 'ballroom': info = 'Grand Ballroom | 200 Guests'; break;
                case 'garden': info = 'Garden Venue | 200 Guests'; break;
                case 'beach': info = 'Beach Setup | 200 Guests'; break;
                case 'conference': info = 'Conference Hall | 200 Guests'; break;
                case 'tent': info = 'Tented Event | 200 Guests'; break;
            }
            document.getElementById('sceneInfo').textContent = info;
        }
        
        function changeLayout(type) {
            // In a real implementation, this would rearrange furniture
        }
        
        function updateFloral(value) {
            // In a real implementation, this would update floral decorations
        }
        
        function changeView(type) {
            // In a real implementation, this would change camera position
        }
        
        function toggleAR() {
            alert('AR mode would activate here on mobile devices with AR support');
        }
        
        function loadPreset(preset) {
            let info = '';
            switch(preset) {
                case 'wedding': 
                    info = 'Wedding Reception | 150 Guests';
                    break;
                case 'corporate':
                    info = 'Corporate Gala | 300 Guests';
                    break;
                case 'birthday':
                    info = 'Birthday Party | 80 Guests';
                    break;
                case 'conference':
                    info = 'Conference | 200 Guests';
                    break;
                case 'garden':
                    info = 'Garden Event | 120 Guests';
                    break;
            }
            document.getElementById('sceneInfo').textContent = info;
            alert('Loading ' + preset + ' preset...');
        }
        
        function saveDesign() {
            alert('Design saved! You can now discuss this layout with our event planners.');
        }
        
        // Mobile controls
        function rotateLeft() {
            scene.rotation.y += 0.1;
        }
        
        function rotateRight() {
            scene.rotation.y -= 0.1;
        }
        
        function zoomIn() {
            camera.position.z -= 2;
        }
        
        function zoomOut() {
            camera.position.z += 2;
        }
        
        // Initialize when page loads
        window.addEventListener('load', () => {
            init3DScene();
            document.querySelector('.footer-bottom p').innerHTML = 
                document.querySelector('.footer-bottom p').innerHTML.replace('2023', new Date().getFullYear());
        });
    </script>
</body>
</html>
